!function(){"use strict";function t(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t}function e(t){if(!this||this.find!==e.prototype.find)return new e(t);if(this.length=0,t)if("string"==typeof t&&(t=this.find(t)),t.nodeType||t===t.window)this.length=1,this[0]=t;else{var i=t.length;for(this.length=i;i;)this[--i]=t[i]}}e.extend=t,e.contains=function(t,i){do{if((i=i.parentNode)===t)return!0}while(i);return!1},e.parseJSON=function(t){return JSON.parse(t)},t(e.prototype,{find:function(t){var i=this[0]||document;return"string"==typeof t&&(t=i.querySelectorAll?i.querySelectorAll(t):"#"===t.charAt(0)?i.getElementById(t.slice(1)):i.getElementsByTagName(t)),new e(t)},hasClass:function(t){return!!this[0]&&new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(this[0].className)},addClass:function(t){for(var i,e,s,n=this.length;n;)if((e=this[--n]).className)for(i=i||t.split(/\s+/),s=0;s<i.length;s+=1)this.hasClass(i[s])||(e.className+=" "+i[s]);else e.className=t;return this},removeClass:function(t){for(var i,e=new RegExp("^(?:"+t.split(/\s+/).join("|")+")$"),s=/(\S+)(?:\s+|$)/g,n=function(t,i){return e.test(i)?"":t},o=/\s+$/,l=this.length;l;)(i=this[--l]).className=i.className.replace(s,n).replace(o,"");return this},on:function(t,i){for(var e,s,n=t.split(/\s+/);n.length;)for(t=n.shift(),e=this.length;e;)(s=this[--e]).addEventListener?s.addEventListener(t,i,!1):s.attachEvent&&s.attachEvent("on"+t,i);return this},off:function(t,i){for(var e,s,n=t.split(/\s+/);n.length;)for(t=n.shift(),e=this.length;e;)(s=this[--e]).removeEventListener?s.removeEventListener(t,i,!1):s.detachEvent&&s.detachEvent("on"+t,i);return this},empty:function(){for(var t,i=this.length;i;)for(t=this[--i];t.hasChildNodes();)t.removeChild(t.lastChild);return this},first:function(){return new e(this[0])}}),"function"==typeof define&&define.amd?define(function(){return e}):(window.blueimp=window.blueimp||{},window.blueimp.helper=e)}(),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(m){"use strict";function e(t,i){return void 0===document.body.style.maxHeight?null:this&&this.options===e.prototype.options?void(t&&t.length?(this.list=t,this.num=t.length,this.initOptions(i),this.initialize()):this.console.log("blueimp Gallery: No or empty list provided as first argument.",t)):new e(t,i)}return m.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",svgasimgClass:"blueimp-gallery-svgasimg",smilClass:"blueimp-gallery-smil",slideClass:"slide",slideActiveClass:"slide-active",slidePrevClass:"slide-prev",slideNextClass:"slide-next",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",altTextProperty:"alt",urlProperty:"href",srcsetProperty:"srcset",sizesProperty:"sizes",sourcesProperty:"sources",displayTransition:!0,clearSlides:!0,toggleControlsOnEnter:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,closeOnHashChange:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,slideshowDirection:"ltr",index:0,preloadRange:2,transitionDuration:300,slideshowTransitionDuration:500,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnEnter:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,closeOnHashChange:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(s){var t,n={source:!!window.HTMLSourceElement,picture:!!window.HTMLPictureElement,svgasimg:document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),smil:!!document.createElementNS&&/SVGAnimate/.test(document.createElementNS("http://www.w3.org/2000/svg","animate").toString()),touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},i={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&void 0!==s.style[t]){n.transition=i[t],n.transition.name=t;break}function e(){var t,i,e=n.transition;document.body.appendChild(s),e&&(t=e.name.slice(0,-9)+"ransform",void 0!==s.style[t]&&(s.style[t]="translateZ(0)",i=window.getComputedStyle(s).getPropertyValue(e.prefix+"transform"),n.transform={prefix:e.prefix,name:t,translate:!0,translateZ:!!i&&"none"!==i})),document.body.removeChild(s)}return document.body?e():m(document).on("DOMContentLoaded",e),n}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame,initialize:function(){if(this.initStartIndex(),!1===this.initWidget())return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},slide:function(t,i){window.clearTimeout(this.timeout);var e,s,n,o=this.index;if(o!==t&&1!==this.num){if(i=i||this.options.transitionDuration,this.support.transform){for(this.options.continuous||(t=this.circle(t)),e=Math.abs(o-t)/(o-t),this.options.continuous&&(s=e,(e=-this.positions[this.circle(t)]/this.slideWidth)!==s&&(t=-e*this.num+t)),n=Math.abs(o-t)-1;n;)--n,this.move(this.circle((o<t?t:o)-n-1),this.slideWidth*e,0);t=this.circle(t),this.move(o,this.slideWidth*e,i),this.move(t,0,i),this.options.continuous&&this.move(this.circle(t-e),-this.slideWidth*e,0)}else t=this.circle(t),this.animate(o*-this.slideWidth,t*-this.slideWidth,i);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this,i=this.index+("rtl"===this.options.slideshowDirection?-1:1);window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,1<this.elements[this.index]&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[i,this.options.slideshowTransitionDuration],this.interval)),this.container.addClass(this.options.playingClass),this.slidesContainer[0].setAttribute("aria-live","off"),this.playPauseElement.length&&this.playPauseElement[0].setAttribute("aria-pressed","true")},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.cancelAnimationFrame&&(this.cancelAnimationFrame.call(window,this.animationFrameId),this.animationFrameId=null),this.container.removeClass(this.options.playingClass),this.slidesContainer[0].setAttribute("aria-live","polite"),this.playPauseElement.length&&this.playPauseElement[0].setAttribute("aria-pressed","false")},add:function(t){var i;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,2<this.num&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),i=this.num-t.length;i<this.num;i+=1)this.addSlide(i),this.positionSlide(i);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var e=this;this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,function t(i){i.target===e.container[0]&&(e.container.off(e.support.transition.end,t),e.handleClose())}),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,i,e){this.translateX(t,i,e),this.positions[t]=i},translate:function(t,i,e,s){var n,o;this.slides[t]&&(n=this.slides[t].style,o=this.support.transition,t=this.support.transform,n[o.name+"Duration"]=s+"ms",n[t.name]="translate("+i+"px, "+e+"px)"+(t.translateZ?" translateZ(0)":""))},translateX:function(t,i,e){this.translate(t,i,0,e)},translateY:function(t,i,e){this.translate(t,0,i,e)},animate:function(i,e,s){var n,o,l;s?(n=this,o=(new Date).getTime(),l=window.setInterval(function(){var t=(new Date).getTime()-o;if(s<t)return n.slidesContainer[0].style.left=e+"px",n.ontransitionend(),void window.clearInterval(l);n.slidesContainer[0].style.left=(e-i)*(Math.floor(t/s*100)/100)+i+"px"},4)):this.slidesContainer[0].style.left=e+"px"},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onhashchange:function(){this.options.closeOnHashChange&&this.close()},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&"AUDIO"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(t){var i,e;this.touchStart&&(i=t.target,(e=t.relatedTarget)&&(e===i||m.contains(i,e))||this.onmouseup(t))},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);t=(t.originalEvent||t).touches[0];this.touchStart={x:t.pageX,y:t.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var i,e,s=(t.originalEvent||t).touches,n=s[0],o=(t.originalEvent||t).scale,l=this.index;if(!(1<s.length||o&&1!==o))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},i=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(i)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.carousel||this.translateY(l,this.touchDelta.y+this.positions[l],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?e=[this.circle(l+1),l,this.circle(l-1)]:(this.touchDelta.x=i/=!l&&0<i||l===this.num-1&&i<0?Math.abs(i)/this.slideWidth+1:1,e=[l],l&&e.push(l-1),l<this.num-1&&e.unshift(l+1));e.length;)l=e.pop(),this.translateX(l,i+this.positions[l],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var i=this.index,e=Math.abs(this.touchDelta.x),s=this.slideWidth,n=Math.ceil(this.options.transitionDuration*(1-e/s)/2),o=20<e,l=!i&&0<this.touchDelta.x||i===this.num-1&&this.touchDelta.x<0,a=!o&&this.options.closeOnSwipeUpOrDown&&20<Math.abs(this.touchDelta.y);this.options.continuous&&(l=!1),t=this.touchDelta.x<0?-1:1,this.isScrolling?a?this.close():this.translateY(i,0,n):o&&!l?(e=i+t,a=i-t,o=s*t,l=-s*t,this.options.continuous?(this.move(this.circle(e),o,0),this.move(this.circle(i-2*t),l,0)):0<=e&&e<this.num&&this.move(e,o,0),this.move(i,this.positions[i]+o,n),this.move(this.circle(a),this.positions[this.circle(a)]+o,n),i=this.circle(a),this.onslide(i)):this.options.continuous?(this.move(this.circle(i-1),-s,n),this.move(i,0,n),this.move(this.circle(i+1),s,n)):(i&&this.move(i-1,-s,n),this.move(i,0,n),i<this.num-1&&this.move(i+1,s,n))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(t){var i=this.slides[this.index];t&&i!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,i]))},oncomplete:function(t){var i,e=t.target||t.srcElement,s=e&&e.parentNode;e&&s&&(i=this.getNodeIndex(s),m(s).removeClass(this.options.slideLoadingClass),"error"===t.type?(m(s).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,e.clientHeight>this.container[0].clientHeight&&(e.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===s&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,s]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnEnter&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),t.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(t){var i=this.options,e=t.target||t.srcElement,s=e.parentNode;function n(t){return m(e).hasClass(t)||m(s).hasClass(t)}n(i.toggleClass)?(this.preventDefault(t),this.toggleControls()):n(i.prevClass)?(this.preventDefault(t),this.prev()):n(i.nextClass)?(this.preventDefault(t),this.next()):n(i.closeClass)?(this.preventDefault(t),this.close()):n(i.playPauseClass)?(this.preventDefault(t),this.toggleSlideshow()):s===this.slidesContainer[0]?i.closeOnSlideClick?(this.preventDefault(t),this.close()):i.toggleControlsOnSlideClick&&(this.preventDefault(t),this.toggleControls()):s.parentNode&&s.parentNode===this.slidesContainer[0]&&i.toggleControlsOnSlideClick&&(this.preventDefault(t),this.toggleControls())},onclick:function(t){if(!(this.options.emulateTouchEvents&&this.touchDelta&&(20<Math.abs(this.touchDelta.x)||20<Math.abs(this.touchDelta.y))))return this.handleClick(t);delete this.touchDelta},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},updateActiveSlide:function(t,i){for(var e,s,n=this.slides,o=this.options,l=[{index:i,method:"addClass",hidden:!1},{index:t,method:"removeClass",hidden:!0}];l.length;)e=l.pop(),m(n[e.index])[e.method](o.slideActiveClass),s=this.circle(e.index-1),(o.continuous||s<e.index)&&m(n[s])[e.method](o.slidePrevClass),s=this.circle(e.index+1),(o.continuous||s>e.index)&&m(n[s])[e.method](o.slideNextClass);this.slides[t].setAttribute("aria-hidden","true"),this.slides[i].removeAttribute("aria-hidden")},handleSlide:function(t,i){this.options.continuous||this.updateEdgeClasses(i),this.updateActiveSlide(t,i),this.loadElements(i),this.options.unloadElements&&this.unloadElements(t,i),this.setTitle(i)},onslide:function(t){this.handleSlide(this.index,t),this.index=t,this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var i=this.slides[t].firstChild,t=i.title||i.alt,i=this.titleElement;i.length&&(this.titleElement.empty(),t&&i[0].appendChild(document.createTextNode(t)))},setTimeout:function(t,i,e){var s=this;return t&&window.setTimeout(function(){t.apply(s,i||[])},e||0)},imageFactory:function(t,e){var s,n,i,o,l,a,r,h,d=this.options,c=this,u=t,p=this.imagePrototype.cloneNode(!1);if("string"!=typeof u&&(u=this.getItemProperty(t,d.urlProperty),i=this.support.picture&&this.support.source&&this.getItemProperty(t,d.sourcesProperty),o=this.getItemProperty(t,d.srcsetProperty),l=this.getItemProperty(t,d.sizesProperty),a=this.getItemProperty(t,d.titleProperty),r=this.getItemProperty(t,d.altTextProperty)||a),p.draggable=!1,a&&(p.title=a),r&&(p.alt=r),m(p).on("load error",function t(i){if(!n){if(!(i={type:i.type,target:s||p}).target.parentNode)return c.setTimeout(t,[i]);n=!0,m(p).off("load error",t),e(i)}}),i&&i.length){for(s=this.picturePrototype.cloneNode(!1),h=0;h<i.length;h+=1)s.appendChild(m.extend(this.sourcePrototype.cloneNode(!1),i[h]));s.appendChild(p),m(s).addClass(d.toggleClass)}return o&&(l&&(p.sizes=l),p.srcset=o),p.src=u,s||p},createElement:function(t,i){var e=t&&this.getItemProperty(t,this.options.typeProperty),e=e&&this[e.split("/")[0]+"Factory"]||this.imageFactory,t=t&&e.call(this,t,i);return t||(t=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:t}])),m(t).addClass(this.options.slideContentClass),t},iteratePreloadRange:function(t,i){for(var e=this.num,s=this.options,n=Math.min(e,2*s.preloadRange+1),o=t,l=0;l<n;l+=1){if((o+=l*(l%2==0?-1:1))<0||e<=o){if(!s.continuous)continue;o=this.circle(o)}i.call(this,o)}},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=m(this.slides[t]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[t]=1,m(this.slides[t]).addClass(this.options.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(t){this.iteratePreloadRange(t,this.loadElement)},unloadElements:function(t,e){var s=this.options.preloadRange;this.iteratePreloadRange(t,function(t){var i=Math.abs(t-e);s<i&&i+s<this.num&&(this.unloadSlide(t),delete this.elements[t])})},addSlide:function(t){var i=this.slidePrototype.cloneNode(!1);i.setAttribute("data-index",t),i.setAttribute("aria-hidden","true"),this.slidesContainer[0].appendChild(i),this.slides.push(i)},positionSlide:function(t){var i=this.slides[t];i.style.width=this.slideWidth+"px",this.support.transform&&(i.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(t){var i,e;for(t||(this.positions=[],this.positions.length=this.num,this.elements={},this.picturePrototype=this.support.picture&&document.createElement("picture"),this.sourcePrototype=this.support.source&&document.createElement("source"),this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=this.elementPrototype.cloneNode(!1),m(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].clientWidth,this.slideHeight=this.container[0].clientHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),e=0;e<this.num;e+=1)i&&this.addSlide(e),this.positionSlide(e);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(t){var i=this.slides[t],t=i.firstChild;null!==t&&i.removeChild(t)},unloadAllSlides:function(){for(var t=0,i=this.slides.length;t<i;t++)this.unloadSlide(t)},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(o,t){return t.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(t,i,e,s,n){s=n||i||e||s&&parseInt(s,10);t&&o&&(o=o[s])}),o},getDataProperty:function(t,i){var e,s;if(t.dataset?(e=i.replace(/-([a-z])/g,function(t,i){return i.toUpperCase()}),s=t.dataset[e]):t.getAttribute&&(s=t.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase())),"string"==typeof s){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(s))try{return m.parseJSON(s)}catch(t){}return s}},getItemProperty:function(t,i){var e=this.getDataProperty(t,i);return void 0===e&&(e=t[i]),void 0===e&&(e=this.getNestedProperty(t,i)),e},initStartIndex:function(){var t,i=this.options.index,e=this.options.urlProperty;if(i&&"number"!=typeof i)for(t=0;t<this.num;t+=1)if(this.list[t]===i||this.getItemProperty(this.list[t],e)===this.getItemProperty(i,e)){i=t;break}this.index=this.circle(parseInt(i,10)||0)},initEventListeners:function(){var e=this,t=this.slidesContainer;function i(t){var i=e.support.transition&&e.support.transition.end===t.type?"transitionend":t.type;e["on"+i](t)}m(window).on("resize",i),m(window).on("hashchange",i),m(document.body).on("keydown",i),this.container.on("click",i),this.support.touch?t.on("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&this.support.transition&&t.on("mousedown mousemove mouseup mouseout",i),this.support.transition&&t.on(this.support.transition.end,i),this.proxyListener=i},destroyEventListeners:function(){var t=this.slidesContainer,i=this.proxyListener;m(window).off("resize",i),m(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?t.off("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&this.support.transition&&t.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&t.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this;return this.container=m(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),this.playPauseElement=this.container.find("."+this.options.playPauseClass).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.support.svgasimg&&this.container.addClass(this.options.svgasimgClass),this.support.smil&&this.container.addClass(this.options.smilClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,function t(i){i.target===e.container[0]&&(e.container.off(e.support.transition.end,t),e.handleOpen())}):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(t){this.options=m.extend({},this.options),(t&&t.carousel||this.options.carousel&&(!t||!1!==t.carousel))&&m.extend(this.options,this.carouselOptions),m.extend(this.options,t),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],t):t(window.jQuery,window.blueimp.Gallery)}(function(n,o){"use strict";n(document).on("click","[data-gallery]",function(t){var i=n(this).data("gallery"),e=n(i),s=e.length&&e||n(o.prototype.options.container),e={onopen:function(){s.data("gallery",this).trigger("open")},onopened:function(){s.trigger("opened")},onslide:function(){s.trigger("slide",arguments)},onslideend:function(){s.trigger("slideend",arguments)},onslidecomplete:function(){s.trigger("slidecomplete",arguments)},onclose:function(){s.trigger("close")},onclosed:function(){s.trigger("closed").removeData("gallery")}},e=n.extend(s.data(),{container:s[0],index:this,event:t},e),i=n(this).closest("[data-gallery-group], body").find('[data-gallery="'+i+'"]');return e.filter&&(i=i.filter(e.filter)),new o(i,e)})});